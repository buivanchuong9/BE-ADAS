# ğŸš— ADAS Backend API

> **Advanced Driver Assistance System** - FastAPI + YOLOv11 Detection Engine

[![Python](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-green.svg)](https://fastapi.tiangolo.com/)
[![YOLOv11](https://img.shields.io/badge/YOLOv11-Ultralytics-orange.svg)](https://github.com/ultralytics/ultralytics)

---

## âœ¨ Features

- ğŸ¥ **Real-time Object Detection** with YOLOv11
- ğŸš— **Vehicle & Pedestrian Detection**
- ğŸ›£ï¸ **Lane Detection** 
- ğŸš¨ **Collision Warning System**
- ğŸ‘¤ **Driver Monitoring** (drowsiness, distraction)
- ğŸ“Š **Analytics & Reporting API**
- ğŸ”Œ **WebSocket** for live streaming
- ğŸ³ **Docker Ready** - CPU & GPU support

---

## ğŸš€ Quick Start

### Prerequisites
- Python 3.11+
- Docker (recommended)

### Docker (Recommended)

```bash
# 1. Copy environment file
cp .env.example .env

# 2. Run with Docker Compose
docker-compose up -d

# 3. Check logs
docker-compose logs -f
```

âœ… **API:** http://localhost:8000  
âœ… **API Docs:** http://localhost:8000/docs  
âœ… **WebSocket:** ws://localhost:8000/ws

### Local Development

```bash
# 1. Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# 2. Install dependencies
pip install -r requirements.txt

# 3. Set up environment
cp .env.example .env

# 4. Download YOLO models
bash download_yolo11.sh

# 5. Run development server
python main.py
```

---

## ğŸ“ Project Structure

```
backend-python/
â”œâ”€â”€ api/                    # API endpoints
â”‚   â”œâ”€â”€ cameras.py         # Camera management
â”‚   â”œâ”€â”€ detection.py       # Detection endpoints
â”‚   â””â”€â”€ analytics.py       # Analytics API
â”œâ”€â”€ core/                   # Core infrastructure
â”‚   â”œâ”€â”€ config.py          # Configuration
â”‚   â”œâ”€â”€ exceptions.py      # Error handling
â”‚   â””â”€â”€ logging_config.py  # Logging setup
â”œâ”€â”€ services/              # Business logic
â”‚   â”œâ”€â”€ detection_service.py
â”‚   â”œâ”€â”€ camera_service.py
â”‚   â””â”€â”€ driver_service.py
â”œâ”€â”€ adas_core/            # ADAS algorithms
â”‚   â”œâ”€â”€ detection/        # Object detection
â”‚   â”œâ”€â”€ lane_detection/   # Lane detection
â”‚   â””â”€â”€ collision/        # Collision warning
â”œâ”€â”€ ai_models/            # AI model weights
â”œâ”€â”€ dataset/              # Training data
â”œâ”€â”€ logs/                 # Application logs
â”œâ”€â”€ main.py               # Application entry point
â”œâ”€â”€ requirements.txt      # Python dependencies
â””â”€â”€ docker-compose.yml    # Docker configuration
```

---

## ğŸ”§ Configuration

### Environment Variables

Create `.env` file (copy from `.env.example`):

```env
# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# CORS Settings
CORS_ORIGINS=http://localhost:3000

# Database
DATABASE_URL=sqlite:///./adas.db

# AI Models
WEIGHTS_DIR=./ai_models/weights
MODEL_CONFIDENCE=0.5

# Logging
LOG_LEVEL=INFO
```

---

## ğŸ”Œ API Endpoints

### Health Check
```bash
GET /health
```

### Detection
```bash
POST /api/detection/start
POST /api/detection/stop
GET /api/detection/status
```

### Analytics
```bash
GET /api/analytics/dashboard
GET /api/analytics/trips
GET /api/analytics/events
```

### WebSocket
```bash
WS /ws
```

ğŸ“š **Full API Documentation**: http://localhost:8000/docs

---

## ğŸ³ Docker

### CPU Version (macOS, Linux)
```bash
docker-compose up -d
```

### GPU Version (NVIDIA)
```bash
docker-compose -f docker-compose.gpu.yml up -d
```

### Build Custom Image
```bash
docker build -t adas-backend .
```

---

## ğŸ§ª Testing

```bash
# Run tests
pytest

# With coverage
pytest --cov=.
```

---

## ğŸ“Š Performance

- **Detection FPS**: 30+ (GPU), 15+ (CPU)
- **API Response Time**: <100ms
- **WebSocket Latency**: <50ms

---

## ğŸ› ï¸ Tech Stack

- **Framework**: FastAPI
- **AI/ML**: YOLOv11, OpenCV, NumPy
- **Database**: SQLAlchemy (SQLite/PostgreSQL)
- **WebSocket**: FastAPI WebSocket
- **Deployment**: Docker, Uvicorn

---

## ğŸ“ Development

```bash
# Install development dependencies
pip install -r requirements.txt

# Run with hot reload
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# Format code
black .
isort .

# Type checking
mypy .
```

---

## ğŸ” Security

- Environment variable configuration
- CORS protection
- Input validation
- Rate limiting (optional)

---

## ğŸ“ License

Proprietary
